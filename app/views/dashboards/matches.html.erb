<div class="main-container">
  <div class="profil-content profil-content-matches" data-controller="generate-matches">
  <% if session[:suggestions] == true %>
    <h3><%= @suggestions.count %> matches</h3>
  <% end %>
    <% unless session[:suggestions] == true %>
    <div class= "container-matches", style="background-image: linear-gradient(rgba(0,0,0,0.0),rgba(0,0,0,0.0)), url(<%= image_path 'matches.jpg'%>);">
        <%= form_with url: suggestions_dashboards_path, class:"form-check form-switch", method: :get do |form| %>
          <%= form.submit "Generate Matches", class: "btn-cta"%>
        <% end %>
    </div>
    <% else %>
      <%= form_with url: filtered_suggestions_dashboards_path, class:"form-check form-switch", method: :get, data: {controller: "filter"} do |form| %>
        <%= form.check_box :project, class:"form-check-input", type:"checkbox", role:"switch", id:"flexSwitchCheckChecked"%>
        <%= form.label :project, "I want profiles with projects only", class:"form-check-label", for:"flexSwitchCheckChecked" %>
      <% end %>
      <div class="main-content" data-generate-matches-target="cards">
        <%= render partial: "shared/card-user-matches", locals: {users: @suggestions} %>
      </div>
    <% end %>
    <div class="mt-5 mb-3">
      <h3>My matches</h3>
    </div>
    <div class="main-content">
      <%= render partial: "shared/card-user", locals: { users: @matched_profiles } %>
    </div>

    <div class="mt-5 mb-3">
      <h3>My pending requests</h3>
    </div>
    <div class="main-content">
      <%= render partial: "shared/card-user", locals: {users: @pending_requests} %>
    </div>

    <div id="btn-scrollUp">
      <a href="#top"><i class="fa-solid fa-arrow-up"></i></a>
    </div>
  </div>
</div>
